type Message {
  id: ID!
  encryptedContent: String!
  sender: User!
  receiver: User!
  isRead: Boolean!
  createdAt: String!
  updatedAt: String!
}

extend type Query {
  getMessages(receiverId: ID!): [Message!]!
  getUnreadMessages: [Message!]!
}

extend type Mutation {
  sendMessage(
    receiverId: ID!
    encryptedContent: String!
  ): Message!
  markMessageAsRead(messageId: ID!): Message!
}

type Subscription {
  newMessage: Message!
}