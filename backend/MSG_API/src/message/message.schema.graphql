type Message {
  id: ID!
  encryptedContent: String!
  iv: String!
  authTag: String!
  version: Int!
  dhPublicKey: String
  sender: User!
  receiver: User!
  isRead: Boolean!
  createdAt: String!
  updatedAt: String!
}

extend type Query {
  getMessages(receiverId: ID!): [Message!]!
  getUnreadMessages: [Message!]!
}

extend type Mutation {
  sendMessage(
    receiverId: ID!
    encryptedContent: String!
    iv: String!
    authTag: String!
    version: Int!
    dhPublicKey: String
  ): Message!
  markMessageAsRead(messageId: ID!): Message!
}